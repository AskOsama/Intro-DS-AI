<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 550" width="800" height="550">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2c3e50"/>
    </marker>
    <linearGradient id="programGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3498db;stop-opacity:0.1"/>
      <stop offset="100%" style="stop-color:#3498db;stop-opacity:0.2"/>
    </linearGradient>
    <linearGradient id="workerGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2c3e50;stop-opacity:0.05"/>
      <stop offset="100%" style="stop-color:#2c3e50;stop-opacity:0.15"/>
    </linearGradient>
  </defs>

  <!-- YOUR PROGRAM box -->
  <rect x="50" y="20" width="700" height="220" rx="10" fill="url(#programGrad)" stroke="#3498db" stroke-width="2"/>
  <text x="400" y="50" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#2c3e50" text-anchor="middle">YOUR PROGRAM</text>

  <!-- Task submissions -->
  <text x="80" y="85" font-family="monospace" font-size="13" fill="#333">task1 = submit(work, data1)</text>
  <line x1="300" y1="80" x2="450" y2="80" stroke="#3498db" stroke-width="2" marker-end="url(#arrowhead)"/>
  <rect x="470" y="65" width="140" height="28" rx="5" fill="#e8f4fc" stroke="#3498db" stroke-width="1"/>
  <text x="540" y="84" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50" text-anchor="middle">Future #1 (ticket)</text>

  <text x="80" y="115" font-family="monospace" font-size="13" fill="#333">task2 = submit(work, data2)</text>
  <line x1="300" y1="110" x2="450" y2="110" stroke="#3498db" stroke-width="2" marker-end="url(#arrowhead)"/>
  <rect x="470" y="95" width="140" height="28" rx="5" fill="#e8f4fc" stroke="#3498db" stroke-width="1"/>
  <text x="540" y="114" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50" text-anchor="middle">Future #2 (ticket)</text>

  <text x="80" y="145" font-family="monospace" font-size="13" fill="#333">task3 = submit(work, data3)</text>
  <line x1="300" y1="140" x2="450" y2="140" stroke="#3498db" stroke-width="2" marker-end="url(#arrowhead)"/>
  <rect x="470" y="125" width="140" height="28" rx="5" fill="#e8f4fc" stroke="#3498db" stroke-width="1"/>
  <text x="540" y="144" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50" text-anchor="middle">Future #3 (ticket)</text>

  <text x="80" y="175" font-family="monospace" font-size="13" fill="#333">task4 = submit(work, data4)</text>
  <line x1="300" y1="170" x2="450" y2="170" stroke="#3498db" stroke-width="2" marker-end="url(#arrowhead)"/>
  <rect x="470" y="155" width="140" height="28" rx="5" fill="#e8f4fc" stroke="#3498db" stroke-width="1"/>
  <text x="540" y="174" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50" text-anchor="middle">Future #4 (ticket)</text>

  <!-- Comment -->
  <text x="80" y="210" font-family="monospace" font-size="12" fill="#27ae60" font-style="italic"># All submitted instantly! Program continues...</text>

  <!-- Arrow down from program -->
  <line x1="400" y1="240" x2="400" y2="290" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Distribution arrows -->
  <line x1="400" y1="300" x2="170" y2="330" stroke="#2c3e50" stroke-width="2"/>
  <line x1="400" y1="300" x2="400" y2="330" stroke="#2c3e50" stroke-width="2"/>
  <line x1="400" y1="300" x2="630" y2="330" stroke="#2c3e50" stroke-width="2"/>

  <!-- Worker boxes -->
  <!-- Worker 1 -->
  <rect x="70" y="330" width="200" height="120" rx="8" fill="url(#workerGrad)" stroke="#2c3e50" stroke-width="2"/>
  <text x="170" y="355" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50" text-anchor="middle">Worker 1</text>
  <text x="170" y="375" font-family="Arial, sans-serif" font-size="12" fill="#666" text-anchor="middle">(Core 1)</text>
  <circle cx="130" cy="410" r="8" fill="#3498db"/>
  <text x="145" y="414" font-family="Arial, sans-serif" font-size="12" fill="#333">task1</text>
  <circle cx="130" cy="435" r="8" fill="#3498db"/>
  <text x="145" y="439" font-family="Arial, sans-serif" font-size="12" fill="#333">task4</text>

  <!-- Worker 2 -->
  <rect x="300" y="330" width="200" height="120" rx="8" fill="url(#workerGrad)" stroke="#2c3e50" stroke-width="2"/>
  <text x="400" y="355" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50" text-anchor="middle">Worker 2</text>
  <text x="400" y="375" font-family="Arial, sans-serif" font-size="12" fill="#666" text-anchor="middle">(Core 2)</text>
  <circle cx="360" cy="410" r="8" fill="#3498db"/>
  <text x="375" y="414" font-family="Arial, sans-serif" font-size="12" fill="#333">task2</text>

  <!-- Worker 3 -->
  <rect x="530" y="330" width="200" height="120" rx="8" fill="url(#workerGrad)" stroke="#2c3e50" stroke-width="2"/>
  <text x="630" y="355" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50" text-anchor="middle">Worker 3</text>
  <text x="630" y="375" font-family="Arial, sans-serif" font-size="12" fill="#666" text-anchor="middle">(GPU)</text>
  <circle cx="590" cy="410" r="8" fill="#e74c3c"/>
  <text x="605" y="414" font-family="Arial, sans-serif" font-size="12" fill="#333">task3</text>

  <!-- Return arrows -->
  <line x1="170" y1="450" x2="170" y2="480" stroke="#27ae60" stroke-width="2"/>
  <line x1="400" y1="450" x2="400" y2="480" stroke="#27ae60" stroke-width="2"/>
  <line x1="630" y1="450" x2="630" y2="480" stroke="#27ae60" stroke-width="2"/>

  <!-- Merge arrows -->
  <line x1="170" y1="480" x2="400" y2="510" stroke="#27ae60" stroke-width="2"/>
  <line x1="400" y1="480" x2="400" y2="510" stroke="#27ae60" stroke-width="2"/>
  <line x1="630" y1="480" x2="400" y2="510" stroke="#27ae60" stroke-width="2"/>

  <!-- Results label -->
  <text x="400" y="540" font-family="Arial, sans-serif" font-size="14" fill="#27ae60" text-anchor="middle" font-weight="bold">Results returned as futures complete</text>
</svg>