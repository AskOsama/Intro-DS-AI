<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <defs>
    <style>
      .main-title { font-family: Cairo, Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #2c3e50; }
      .panel-title { font-family: Cairo, Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #2c3e50; }
      .box-label { font-family: Cairo, Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #fff; }
      .box-sublabel { font-family: Cairo, Arial, sans-serif; font-size: 10px; fill: rgba(255,255,255,0.9); }
      .arrow-label { font-family: Cairo, Arial, sans-serif; font-size: 11px; fill: #34495e; font-weight: bold; }
      .component-text { font-family: Cairo, Arial, sans-serif; font-size: 12px; fill: #2c3e50; }
      .note-text { font-family: Cairo, Arial, sans-serif; font-size: 11px; fill: #7f8c8d; font-style: italic; }
    </style>
    <marker id="arrow-blue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3498db"/>
    </marker>
    <marker id="arrow-purple" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#9b59b6"/>
    </marker>
    <marker id="arrow-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#27ae60"/>
    </marker>
  </defs>

  <!-- RIGHT PANEL: Database System (RTL - on right) -->
  <rect x="410" y="20" width="370" height="360" rx="12" fill="#f0f4f8" stroke="#3498db" stroke-width="2"/>
  <text x="595" y="50" text-anchor="middle" class="panel-title">نظام قواعد البيانات</text>

  <!-- DATA Box (DB) -->
  <rect x="540" y="90" width="120" height="70" rx="8" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
  <text x="600" y="120" text-anchor="middle" class="box-label">البيانات</text>
  <text x="600" y="140" text-anchor="middle" class="box-sublabel">(الجداول)</text>

  <!-- Arrow to Result (DB) -->
  <line x1="540" y1="125" x2="490" y2="125" stroke="#3498db" stroke-width="2" marker-end="url(#arrow-blue)"/>
  <text x="515" y="115" text-anchor="middle" class="arrow-label">استعلام</text>

  <!-- RESULT Box (DB) -->
  <rect x="430" y="90" width="90" height="70" rx="8" fill="#27ae60" stroke="#1e8449" stroke-width="2"/>
  <text x="475" y="125" text-anchor="middle" class="box-label">النتيجة</text>

  <!-- Components label (DB) -->
  <rect x="430" y="190" width="310" height="35" rx="6" fill="#e8f4fd"/>
  <text x="585" y="212" text-anchor="middle" class="component-text">المكونات: البيانات + الاستعلام</text>

  <!-- Note (DB) -->
  <text x="595" y="260" text-anchor="middle" class="note-text">ما تخزنه هو ما تحصل عليه.</text>

  <!-- Divider line -->
  <line x1="400" y1="40" x2="400" y2="360" stroke="#bdc3c7" stroke-width="2" stroke-dasharray="5,5"/>

  <!-- LEFT PANEL: Knowledge-Based System (RTL - on left) -->
  <rect x="20" y="20" width="370" height="360" rx="12" fill="#faf5ff" stroke="#9b59b6" stroke-width="2"/>
  <text x="205" y="50" text-anchor="middle" class="panel-title">نظام قائم على المعرفة</text>

  <!-- DATA Box (KBS) -->
  <rect x="260" y="80" width="90" height="60" rx="8" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
  <text x="305" y="105" text-anchor="middle" class="box-label">البيانات</text>
  <text x="305" y="125" text-anchor="middle" class="box-sublabel">(الحقائق)</text>

  <!-- RULES Box (KBS) -->
  <rect x="150" y="80" width="90" height="60" rx="8" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
  <text x="195" y="105" text-anchor="middle" class="box-label">القواعد</text>
  <text x="195" y="125" text-anchor="middle" class="box-sublabel">(الاستدلال)</text>

  <!-- Arrows to Inference Engine -->
  <line x1="305" y1="140" x2="250" y2="175" stroke="#9b59b6" stroke-width="2" marker-end="url(#arrow-purple)"/>
  <line x1="195" y1="140" x2="250" y2="175" stroke="#9b59b6" stroke-width="2" marker-end="url(#arrow-purple)"/>

  <!-- Inference Engine Box -->
  <rect x="200" y="180" width="100" height="40" rx="6" fill="#9b59b6" stroke="#7d3c98" stroke-width="2"/>
  <text x="250" y="205" text-anchor="middle" class="box-label" style="font-size: 11px;">الاستدلال</text>

  <!-- Query arrow -->
  <line x1="130" y1="200" x2="200" y2="200" stroke="#9b59b6" stroke-width="2" marker-end="url(#arrow-purple)"/>
  <text x="80" y="205" text-anchor="middle" class="arrow-label">استعلام</text>

  <!-- Arrow to Result -->
  <line x1="250" y1="220" x2="250" y2="260" stroke="#27ae60" stroke-width="2" marker-end="url(#arrow-green)"/>

  <!-- RESULT Box (KBS) -->
  <rect x="200" y="265" width="100" height="50" rx="8" fill="#27ae60" stroke="#1e8449" stroke-width="2"/>
  <text x="250" y="290" text-anchor="middle" class="box-label">النتيجة</text>
  <text x="250" y="305" text-anchor="middle" class="box-sublabel">(المشتقة)</text>

  <!-- Components label (KBS) -->
  <rect x="40" y="335" width="340" height="30" rx="6" fill="#f3e8ff"/>
  <text x="210" y="355" text-anchor="middle" class="component-text">المكونات: البيانات + القواعد + الاستعلام</text>

  <!-- Note (KBS) -->
  <text x="250" y="260" text-anchor="middle" class="note-text" style="font-size: 10px;">يشتق معرفة جديدة</text>
  <text x="340" y="275" text-anchor="middle" class="note-text" style="font-size: 10px;">من خلال الاستدلال.</text>

</svg>
