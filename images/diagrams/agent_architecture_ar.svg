<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500" width="800" height="500">
  <defs>
    <style>
      .agent-box { fill: #3498db; stroke: #2c3e50; stroke-width: 3; }
      .env-box { fill: #95a5a6; stroke: #2c3e50; stroke-width: 3; }
      .sensor-box { fill: #2ecc71; stroke: #2c3e50; stroke-width: 2; }
      .actuator-box { fill: #e74c3c; stroke: #2c3e50; stroke-width: 2; }
      .arrow { fill: none; stroke: #2c3e50; stroke-width: 3; marker-end: url(#arrowhead); }
      .feedback-arrow { fill: none; stroke: #9b59b6; stroke-width: 2; stroke-dasharray: 5,5; marker-end: url(#arrowhead-purple); }
      .text-white { fill: white; font-family: Cairo, Arial, sans-serif; font-size: 18px; font-weight: bold; text-anchor: middle; }
      .text-dark { fill: #2c3e50; font-family: Cairo, Arial, sans-serif; font-size: 16px; text-anchor: middle; }
      .text-label { fill: #2c3e50; font-family: Cairo, Arial, sans-serif; font-size: 14px; text-anchor: middle; font-style: italic; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#2c3e50" />
    </marker>
    <marker id="arrowhead-purple" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#9b59b6" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="400" y="30" class="text-dark" style="font-size: 24px; font-weight: bold;">بنية العامل الذكي</text>

  <!-- Environment (top) -->
  <rect x="300" y="60" width="200" height="60" class="env-box" rx="8"/>
  <text x="400" y="95" class="text-white">البيئة</text>

  <!-- Sensors -->
  <rect x="320" y="160" width="160" height="50" class="sensor-box" rx="5"/>
  <text x="400" y="190" class="text-white">أجهزة الاستشعار</text>
  <text x="400" y="230" class="text-label">(إدراك)</text>

  <!-- Arrow from environment to sensors -->
  <path d="M 400 120 L 400 160" class="arrow"/>

  <!-- Agent (center) -->
  <rect x="250" y="270" width="300" height="100" class="agent-box" rx="8"/>
  <text x="400" y="310" class="text-white" style="font-size: 22px;">العامل</text>
  <text x="400" y="335" class="text-white" style="font-size: 14px;">المعالجة</text>
  <text x="400" y="355" class="text-white" style="font-size: 14px;">اتخاذ القرار</text>

  <!-- Arrow from sensors to agent -->
  <path d="M 400 210 L 400 270" class="arrow"/>
  <text x="430" y="245" class="text-label">مدخلات</text>

  <!-- Actuators -->
  <rect x="320" y="410" width="160" height="50" class="actuator-box" rx="5"/>
  <text x="400" y="440" class="text-white">المُشَغِّلات</text>
  <text x="400" y="480" class="text-label">(تصرّف)</text>

  <!-- Arrow from agent to actuators -->
  <path d="M 400 370 L 400 410" class="arrow"/>
  <text x="430" y="395" class="text-label">مخرجات</text>

  <!-- Environment (bottom) -->
  <rect x="600" y="420" width="150" height="50" class="env-box" rx="8"/>
  <text x="675" y="450" class="text-white">البيئة</text>

  <!-- Arrow from actuators to environment -->
  <path d="M 480 435 L 600 445" class="arrow"/>
  <text x="540" y="425" class="text-label">إجراءات</text>

  <!-- Feedback loop -->
  <path d="M 675 420 L 675 90 L 500 90" class="feedback-arrow"/>
  <text x="720" y="250" class="text-label" style="fill: #9b59b6; font-weight: bold;">حلقة التغذية الراجعة</text>

  <!-- Side labels -->
  <text x="100" y="200" class="text-dark" style="font-size: 14px; text-anchor: start;">١. استشعار البيئة</text>
  <text x="100" y="320" class="text-dark" style="font-size: 14px; text-anchor: start;">٢. معالجة المعلومات</text>
  <text x="100" y="340" class="text-dark" style="font-size: 14px; text-anchor: start;">   واتخاذ القرارات</text>
  <text x="100" y="445" class="text-dark" style="font-size: 14px; text-anchor: start;">٣. اتخاذ الإجراءات</text>
</svg>
