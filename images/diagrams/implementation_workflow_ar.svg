<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 450">
  <defs>
    <linearGradient id="orangeGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF9800;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#F57C00;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.2"/>
    </filter>
    <marker id="arrowOrange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#E65100"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="450" fill="#f8f9fa"/>

  <!-- Title -->
  <text x="400" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="26" font-weight="bold" fill="#1a1a2e">
    المرحلة الثالثة: التنفيذ والتطبيق
  </text>
  <text x="400" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#666">
    سير العمل التكراري للتطوير بمساعدة الذكاء الاصطناعي
  </text>

  <!-- Main Workflow Circle -->
  <ellipse cx="400" cy="250" rx="280" ry="140" fill="none" stroke="#FF9800" stroke-width="2" stroke-dasharray="10,5" opacity="0.3"/>

  <!-- Step 1: Upload -->
  <g transform="translate(560, 160)">
    <rect x="0" y="0" width="120" height="80" rx="10" fill="white" stroke="#FF9800" stroke-width="2" filter="url(#shadow)"/>
    <rect x="0" y="0" width="120" height="30" rx="10" fill="url(#orangeGrad)"/>
    <rect x="0" y="15" width="120" height="15" fill="url(#orangeGrad)"/>
    <text x="60" y="22" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">1. رفع</text>
    <g transform="translate(45, 45)">
      <rect x="0" y="15" width="30" height="20" rx="3" fill="#FFF3E0" stroke="#FF9800" stroke-width="1"/>
      <polyline points="15,5 15,20 8,13" fill="none" stroke="#FF9800" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <polyline points="15,5 15,20 22,13" fill="none" stroke="#FF9800" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </g>
  </g>

  <!-- Step 2: Process -->
  <g transform="translate(340, 130)">
    <rect x="0" y="0" width="120" height="80" rx="10" fill="white" stroke="#FF9800" stroke-width="2" filter="url(#shadow)"/>
    <rect x="0" y="0" width="120" height="30" rx="10" fill="url(#orangeGrad)"/>
    <rect x="0" y="15" width="120" height="15" fill="url(#orangeGrad)"/>
    <text x="60" y="22" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">2. معالجة</text>
    <g transform="translate(45, 45)">
      <circle cx="15" cy="15" r="12" fill="#FFF3E0" stroke="#FF9800" stroke-width="2"/>
      <text x="15" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#FF9800">AI</text>
    </g>
  </g>

  <!-- Step 3: Return -->
  <g transform="translate(120, 160)">
    <rect x="0" y="0" width="120" height="80" rx="10" fill="white" stroke="#FF9800" stroke-width="2" filter="url(#shadow)"/>
    <rect x="0" y="0" width="120" height="30" rx="10" fill="url(#orangeGrad)"/>
    <rect x="0" y="15" width="120" height="15" fill="url(#orangeGrad)"/>
    <text x="60" y="22" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">3. إرجاع</text>
    <g transform="translate(45, 45)">
      <rect x="0" y="0" width="30" height="20" rx="3" fill="#FFF3E0" stroke="#FF9800" stroke-width="1"/>
      <polyline points="15,30 15,15 8,22" fill="none" stroke="#FF9800" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <polyline points="15,30 15,15 22,22" fill="none" stroke="#FF9800" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </g>
  </g>

  <!-- Step 4: Save -->
  <g transform="translate(120, 290)">
    <rect x="0" y="0" width="120" height="80" rx="10" fill="white" stroke="#FF9800" stroke-width="2" filter="url(#shadow)"/>
    <rect x="0" y="0" width="120" height="30" rx="10" fill="url(#orangeGrad)"/>
    <rect x="0" y="15" width="120" height="15" fill="url(#orangeGrad)"/>
    <text x="60" y="22" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">4. حفظ</text>
    <g transform="translate(45, 42)">
      <rect x="0" y="0" width="30" height="30" rx="3" fill="#FFF3E0" stroke="#FF9800" stroke-width="1"/>
      <rect x="5" y="0" width="20" height="10" fill="#FF9800"/>
      <rect x="8" y="18" width="14" height="10" rx="2" fill="#FF9800"/>
    </g>
  </g>

  <!-- Step 5: Verify -->
  <g transform="translate(340, 290)">
    <rect x="0" y="0" width="120" height="80" rx="10" fill="white" stroke="#4CAF50" stroke-width="2" filter="url(#shadow)"/>
    <rect x="0" y="0" width="120" height="30" rx="10" fill="#4CAF50"/>
    <rect x="0" y="15" width="120" height="15" fill="#4CAF50"/>
    <text x="60" y="22" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">5. تحقق</text>
    <g transform="translate(45, 45)">
      <circle cx="15" cy="15" r="15" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
      <polyline points="8,15 13,20 23,10" fill="none" stroke="#4CAF50" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    </g>
  </g>

  <!-- Step 6: Repeat -->
  <g transform="translate(560, 290)">
    <rect x="0" y="0" width="120" height="80" rx="10" fill="white" stroke="#FF9800" stroke-width="2" filter="url(#shadow)"/>
    <rect x="0" y="0" width="120" height="30" rx="10" fill="url(#orangeGrad)"/>
    <rect x="0" y="15" width="120" height="15" fill="url(#orangeGrad)"/>
    <text x="60" y="22" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">6. تكرار</text>
    <g transform="translate(45, 45)">
      <path d="M 5,15 A 12,12 0 1,1 25,15" fill="none" stroke="#FF9800" stroke-width="2"/>
      <polygon points="25,15 22,8 30,12" fill="#FF9800"/>
    </g>
  </g>

  <!-- Connecting arrows (RTL flow) -->
  <path d="M 555 200 Q 490 160 465 170" fill="none" stroke="#E65100" stroke-width="3" marker-end="url(#arrowOrange)"/>
  <path d="M 335 170 Q 270 160 245 200" fill="none" stroke="#E65100" stroke-width="3" marker-end="url(#arrowOrange)"/>
  <path d="M 180 245 Q 180 270 180 285" fill="none" stroke="#E65100" stroke-width="3" marker-end="url(#arrowOrange)"/>
  <path d="M 245 330 Q 290 350 335 330" fill="none" stroke="#E65100" stroke-width="3" marker-end="url(#arrowOrange)"/>
  <path d="M 465 330 Q 510 350 555 330" fill="none" stroke="#E65100" stroke-width="3" marker-end="url(#arrowOrange)"/>
  <path d="M 620 285 Q 620 250 620 245" fill="none" stroke="#E65100" stroke-width="3" marker-end="url(#arrowOrange)"/>

  <!-- Center text -->
  <text x="400" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#E65100">التطوير</text>
  <text x="400" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#E65100">التكراري</text>

  <!-- Key Principle -->
  <rect x="100" y="400" width="600" height="40" rx="5" fill="#FF9800"/>
  <text x="400" y="425" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
    اختبر كل مكون بعد اكتماله. تحقق من التكامل. وثّق أي انحرافات عن الخطة.
  </text>
</svg>