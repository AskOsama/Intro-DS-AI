<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 550" width="800" height="550">
  <defs>
    <marker id="overviewArrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2c3e50"/>
    </marker>
    <linearGradient id="searchGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3498db"/>
      <stop offset="100%" style="stop-color:#2980b9"/>
    </linearGradient>
    <linearGradient id="constraintGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#27ae60"/>
      <stop offset="100%" style="stop-color:#1e8449"/>
    </linearGradient>
    <linearGradient id="heuristicGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9b59b6"/>
      <stop offset="100%" style="stop-color:#8e44ad"/>
    </linearGradient>
    <linearGradient id="optGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e67e22"/>
      <stop offset="100%" style="stop-color:#d35400"/>
    </linearGradient>
    <style>
      .main-title { font-family: 'Cairo', Arial, sans-serif; font-size: 22px; font-weight: bold; fill: #2c3e50; direction: rtl; }
      .box-title { font-family: 'Cairo', Arial, sans-serif; font-size: 16px; font-weight: bold; fill: white; direction: rtl; }
      .box-subtitle { font-family: 'Cairo', Arial, sans-serif; font-size: 11px; fill: rgba(255,255,255,0.9); direction: rtl; }
      .desc { font-family: 'Cairo', Arial, sans-serif; font-size: 11px; fill: #2c3e50; direction: rtl; }
      .english { font-family: Arial, sans-serif; font-size: 10px; fill: rgba(255,255,255,0.9); }
    </style>
  </defs>

  <!-- Main Title -->
  <text x="400" y="40" text-anchor="middle" class="main-title">مسائل البحث - الصورة الكاملة</text>

  <!-- Top Row: Three Main Concepts (RTL order: Heuristics, Constraints, Search Space) -->

  <!-- Heuristics Box (leftmost in RTL) -->
  <g transform="translate(80, 70)">
    <rect width="180" height="120" rx="10" fill="url(#heuristicGrad)" stroke="#8e44ad" stroke-width="2"/>
    <text x="90" y="35" text-anchor="middle" class="box-title">الدوال التوجيهية</text>
    <text x="90" y="55" text-anchor="middle" class="english">HEURISTICS</text>
    <line x1="20" y1="65" x2="160" y2="65" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
    <text x="90" y="85" text-anchor="middle" class="box-subtitle">تلميحات ذكية</text>
    <text x="90" y="100" text-anchor="middle" class="box-subtitle">لتوجيه البحث</text>
  </g>

  <!-- Constraints Box (center) -->
  <g transform="translate(310, 70)">
    <rect width="180" height="120" rx="10" fill="url(#constraintGrad)" stroke="#1e8449" stroke-width="2"/>
    <text x="90" y="35" text-anchor="middle" class="box-title">الشروط / القيود</text>
    <text x="90" y="55" text-anchor="middle" class="english">CONSTRAINTS</text>
    <line x1="20" y1="65" x2="160" y2="65" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
    <text x="90" y="85" text-anchor="middle" class="box-subtitle">قواعد يجب</text>
    <text x="90" y="100" text-anchor="middle" class="box-subtitle">استيفاؤها</text>
  </g>

  <!-- Search Space Box (rightmost in RTL) -->
  <g transform="translate(540, 70)">
    <rect width="180" height="120" rx="10" fill="url(#searchGrad)" stroke="#2980b9" stroke-width="2"/>
    <text x="90" y="35" text-anchor="middle" class="box-title">فضاء البحث</text>
    <text x="90" y="55" text-anchor="middle" class="english">SEARCH SPACE</text>
    <line x1="20" y1="65" x2="160" y2="65" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
    <text x="90" y="85" text-anchor="middle" class="box-subtitle">جميع الحلول</text>
    <text x="90" y="100" text-anchor="middle" class="box-subtitle">الممكنة للاستكشاف</text>
  </g>

  <!-- Arrows pointing down -->
  <line x1="170" y1="200" x2="350" y2="290" stroke="#2c3e50" stroke-width="2" marker-end="url(#overviewArrow)"/>
  <line x1="400" y1="200" x2="400" y2="290" stroke="#2c3e50" stroke-width="2" marker-end="url(#overviewArrow)"/>
  <line x1="630" y1="200" x2="450" y2="290" stroke="#2c3e50" stroke-width="2" marker-end="url(#overviewArrow)"/>

  <!-- Center: Optimization -->
  <g transform="translate(280, 300)">
    <rect width="240" height="100" rx="12" fill="url(#optGrad)" stroke="#d35400" stroke-width="3"/>
    <text x="120" y="40" text-anchor="middle" class="box-title" style="font-size:20px">التحسين</text>
    <text x="120" y="60" text-anchor="middle" class="english" style="font-size:13px">OPTIMIZATION</text>
    <line x1="30" y1="70" x2="210" y2="70" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
    <text x="120" y="88" text-anchor="middle" class="box-subtitle" style="font-size:12px">إيجاد أفضل حل</text>
  </g>

  <!-- Arrow to result -->
  <line x1="400" y1="410" x2="400" y2="450" stroke="#2c3e50" stroke-width="2" marker-end="url(#overviewArrow)"/>

  <!-- Result -->
  <rect x="250" y="460" width="300" height="60" rx="8" fill="#f8f9fa" stroke="#2c3e50" stroke-width="2"/>
  <text x="400" y="490" text-anchor="middle" class="desc" style="font-size:14px;font-weight:bold">الحل الأمثل</text>
  <text x="400" y="508" text-anchor="middle" class="desc">يستوفي جميع الشروط بأفضل قيمة هدف</text>

  <!-- Side annotations (RTL positions swapped) -->
  <g transform="translate(680, 250)">
    <rect width="90" height="80" rx="5" fill="#ecf0f1" stroke="#bdc3c7"/>
    <text x="45" y="25" text-anchor="middle" class="desc" style="font-weight:bold">مثال:</text>
    <text x="45" y="42" text-anchor="middle" class="desc">لعبة البطاقات</text>
    <text x="45" y="58" text-anchor="middle" class="desc">٥٦ تركيبة</text>
    <text x="45" y="74" text-anchor="middle" class="desc">ممكنة</text>
  </g>

  <g transform="translate(30, 250)">
    <rect width="90" height="80" rx="5" fill="#ecf0f1" stroke="#bdc3c7"/>
    <text x="45" y="25" text-anchor="middle" class="desc" style="font-weight:bold">الهدف:</text>
    <text x="45" y="42" text-anchor="middle" class="desc">أقل عدد</text>
    <text x="45" y="58" text-anchor="middle" class="desc">من الأدوار</text>
    <text x="45" y="74" text-anchor="middle" class="desc">للفوز</text>
  </g>
</svg>